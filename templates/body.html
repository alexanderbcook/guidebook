
{% include 'categories.html' %}
<div class="row rows-cols-auto">
 {% for r in recommendations %} 
 <div class="col" style="margin-top:1rem;">
    <!-- Card -->
    <button class="card" data-bs-toggle="modal" data-bs-target="#{{r.id}}">
      <div class="card-body">
        <h5 class="card-title">{{r.fields.Name}}</h5>
        <p class="card-text">        
          {% if r.fields.Description|length < 150 %}
          {{ r.fields.Description }}
          {% else %}
          {{ r.fields.Description|truncate(125, False, '...')}}
          {% endif %}
        </p>
        <hr/>
        {% if 'Tags' in r.fields %}
        <p>
          <i>{% for t in r.fields.Tags %}
            &#x2022;&nbsp{{t.lower()}}
            {% endfor %}
            &#x2022;
          </i>
        </p>
        {% endif %}
      </div>
    </button>
    <!-- Modal -->
    <div class="modal fade" id="{{r.id}}" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-body">
            {% if 'Pictures' in r.fields %}
            <figure>
              <img
                class="img-fluid"
                cross-origin="use-credentials"
                class="listings_img" 
                src="{{ r.fields.Pictures[0].url }}"
              />
              <figcaption><i>PC: {{r.fields.Photo_Credit}}</i></figcaption>
            </figure>
            {% endif %}
            <h3 class="card-title">{{r.fields.Name}}</h3>
            {% if 'Neighborhood' in r.fields%}
            <p class="card-text">{{r.fields.Neighborhood[0] | trim}}</p>
            {% endif %}
            <p class="card-text">{{r.fields.Description | trim}}</p>
            {% if 'Address' in r.fields %}
            <p class="card-text">{{r.fields.Address | trim}}{% if 'Cities' in r.fields%}{{', '+r.fields.Cities[0] | trim}}{% endif %}</p>
            {% endif %}          
          </div>
        </div>
      </div>
    </div>

  </div>

 {% endfor %}
</div>
<style>
 /* Extra small devices (phones, 600px and down) */
@media only screen and (max-width: 600px) {
  .card{
    width:10rem;
  }
}

/* Small devices (portrait tablets and large phones, 600px and up) */
@media only screen and (min-width: 600px) {  
  .card{
    width:10rem;
  }
}

/* Medium devices (landscape tablets, 768px and up) */
@media only screen and (min-width: 768px) {
  .card{
    width:10rem;
  }
}

/* Large devices (laptops/desktops, 992px and up) */
@media only screen and (min-width: 992px) {
  .card{
    width:16rem;
    height:100%;
  }
}

/* Extra large devices (large laptops and desktops, 1200px and up) */
@media only screen and (min-width: 1200px) {
  .card{
    width:16rem;
    height:100%;
  }
} 
</style>
